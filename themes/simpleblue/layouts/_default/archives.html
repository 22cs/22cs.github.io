{{ define "main" }}
<div class="archive">
    <h1 class="page-title">归档</h1>
    
    {{ $pages := where .Site.RegularPages "Section" "in" .Site.Params.mainSections }}
    
    {{ if $pages }}
        {{ range $pages.GroupByDate "2006" }}
        <div class="archive-group">
            <h2 class="archive-year">{{ .Key }}</h2>
            <div class="archive-items">
                {{ range .Pages.ByDate.Reverse }}
                <div class="archive-item">
                    <span class="archive-date">{{ .Date.Format "2006-01-02" }}</span>
                    <a class="archive-title" href="{{ .RelPermalink }}">{{ .Title }}</a>
                </div>
                {{ end }}
            </div>
        </div>
        {{ end }}
    {{ else }}
        <div class="archive-empty">
            <p>目前没有任何文章。</p>
        </div>
    {{ end }}
</div>
{{ end }}
