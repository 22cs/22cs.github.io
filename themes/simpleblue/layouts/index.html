{{ define "main" }}
<div class="home-intro">
    {{ with .Content }}
    <div class="home-content">
        {{ . }}
    </div>
    {{ end }}
</div>

<div class="posts-list">
    {{ $paginator := .Paginate (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) }}
    {{ range $paginator.Pages }}
    <article class="post-item">
        <h2 class="post-title"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
        <div class="post-meta">
            <span class="post-date">{{ .Date.Format "2006-01-02" }}</span>
            {{ with .Params.categories }}
            <span class="post-categories">
                {{ range . }}
                <a href="{{ "categories/" | relLangURL }}{{ . | urlize }}">{{ . }}</a>
                {{ end }}
            </span>
            {{ end }}
        </div>
        <div class="post-content">
            {{ .Content }}
        </div>
    </article>
    {{ end }}
    
    {{ partial "pagination.html" . }}
</div>
{{ end }}
